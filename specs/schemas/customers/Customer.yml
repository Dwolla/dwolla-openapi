BaseCustomer:
  title: BaseCustomer
  description: Base schema containing common fields for all customer types
  type: object
  required:
    - _links
    - id
    - firstName
    - lastName
    - email 
    - created
  properties:
    _links:
      additionalProperties:
        $ref: '../../schemas/common.yml#/components/schemas/HalLink'
    id:
      type: string
      example: c41125c5-99c4-4303-a9f6-d066d28a61e3
    firstName:
      type: string
      example: Jane
    lastName:
      type: string
      example: Doe
    email:
      type: string
      example: janedoe@mail.com
    correlationId:
      type: string
      example: 'CID-abe2bb3d-d2ff-433b-95a3-0debd960ed25'
    created:
      type: string
      format: date-time
      example: '2022-10-07T16:46:13.023Z'
UnverifiedCustomer:
  title: UnverifiedCustomer
  description: Unverified customer - basic customer type with no KYC verification
  allOf:
    - $ref: '#/BaseCustomer'
    - type: object
      required:
        - type
        - status
      properties:
        type:
          type: string
          enum: [unverified]
          example: unverified
        status:
          type: string
          enum: [unverified, suspended, deactivated]
          example: unverified
        businessName:
          type: string
          example: Jane Corp llc
ReceiveOnlyCustomer:
  title: ReceiveOnlyCustomer
  description: Receive-only user - can only receive funds, not send
  allOf:
    - $ref: '#/BaseCustomer'
    - type: object
      required:
        - type
        - status
      properties:
        type:
          type: string
          enum: [receive-only]
          example: receive-only
        status:
          type: string
          enum: [unverified, suspended, deactivated]
          example: unverified
        businessName:
          type: string
          example: Jane Corp llc
VerifiedPersonalCustomer:
  title: VerifiedPersonalCustomer
  description: Verified personal customer - fully KYC verified individual with send and receive capabilities
  allOf:
    - $ref: '#/BaseCustomer'
    - type: object
      required:
        - type
        - status
        - address1
        - city
        - state
        - postalCode
      properties:
        type:
          type: string
          enum: [personal]
          example: personal
        status:
          type: string
          enum: [verified, suspended, deactivated, document, retry, kba]
          example: verified
        address1:
          type: string
          example: 123 Main Street
        address2:
          type: string
          example: Ste 123
        city:
          type: string
          example: Des Moines
        state:
          type: string
          example: IA
        postalCode:
          type: string
          example: '50309'
VerifiedSolePropCustomer:
  title: VerifiedSolePropCustomer
  description: Verified sole proprietorship customer - distinguished from VerifiedBusinessCustomer by businessType=soleProprietorship
  allOf:
    - $ref: '#/BaseCustomer'
    - type: object
      required:
        - type
        - status
        - address1
        - city
        - state
        - postalCode
        - businessName
        - businessType
        - businessClassification
      properties:
        type:
          type: string
          enum: [business]
          example: business
        status:
          type: string
          enum: [verified, suspended, deactivated, document, retry]
          example: verified
        address1:
          type: string
          example: 123 Main Street
        address2:
          type: string
          example: Ste 123
        city:
          type: string
          example: Des Moines
        state:
          type: string
          example: IA
        postalCode:
          type: string
          example: '50309'
        businessName:
          type: string
          example: Jane Corp
        businessType:
          type: string
          enum: [soleProprietorship]
          example: soleProprietorship
        businessClassification:
          type: string
          example: 9ed3f670-7d6f-11e3-b1ce-5404a6144203
VerifiedBusinessCustomer:
  title: VerifiedBusinessCustomer
  description: Verified business customer (LLC, Corporation, Partnership) - distinguished from VerifiedSolePropCustomer by presence of a controller object
  allOf:
    - $ref: '#/BaseCustomer'
    - type: object
      required:
        - type
        - status
        - address1
        - city
        - state
        - postalCode
        - businessName
        - businessType
        - businessClassification
        - controller
      properties:
        type:
          type: string
          enum: [business]
          example: business
        status:
          type: string
          enum: [verified, suspended, deactivated, document, retry]
          example: verified
        address1:
          type: string
          example: 123 Main Street
        address2:
          type: string
          example: Ste 123
        city:
          type: string
          example: Des Moines
        state:
          type: string
          example: IA
        postalCode:
          type: string
          example: '50309'
        phone:
          type: string
          example: '555555555'
        website:
          type: string
          example: https://www.dwolla.com
        businessName:
          type: string
          example: Jane Corp
        doingBusinessAs:
          type: string
          example: Jane's Coffee and Sweets
        businessType:
          type: string
          enum:
            - llc
            - corporation
            - partnership
          example: llc
        businessClassification:
          type: string
          example: 9ed3f670-7d6f-11e3-b1ce-5404a6144203
        controller:
          type: object
          required:
            - firstName
            - lastName
            - title
            - address
          properties:
            firstName:
              type: string
              example: John
            lastName:
              type: string
              example: Controller
            title:
              type: string
              example: CEO
            address:
              type: object
              properties:
                address1:
                  type: string
                  example: 462 Main Street
                address2:
                  type: string
                  example: Suite 123
                address3:
                  type: string
                  example: Unit 123
                city:
                  type: string
                  example: Des Moines
                postalCode:
                  type: string
                  example: '50309'
                country:
                  type: string
                  example: USA
                stateProvinceRegion:
                  type: string
                  example: 'IA'