get:
  tags:
    - customers
  summary: List and search customers
  description: Returns a paginated list of customers sorted by creation date. Supports fuzzy search across customer names, business names, and email addresses, plus exact filtering by email and verification status. Default limit is 25 customers per page, maximum 200.
  operationId: listAndSearchCustomers
  x-speakeasy-name-override: list
  parameters:
    - name: limit
      in: query
      description: How many results to return
      required: false
      schema:
        type: integer
    - name: offset
      in: query
      description: How many results to skip
      required: false
      schema:
        type: integer
    - name: search
      in: query
      description: Searches on certain fields
      required: false
      schema:
        type: string
    - name: status
      in: query
      description: Filter by customer status
      required: false
      schema:
        type: string
    - $ref: '../../schemas/common.yml#/components/parameters/Accept'
  responses:
    '200':
      description: successful operation
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/customers/Customers.yml#/Customers'
    '403':
      description: Forbidden
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/common.yml#/components/schemas/ForbiddenError'
post:
  tags:
    - customers
  summary: Create a customer
  description: Creates a new customer with different verification levels and capabilities. Supports personal verified customers (individuals), business verified customers (businesses), unverified customers, and receive-only users. Customer type determines transaction limits, verification requirements, and available features.
  operationId: createCustomer
  x-speakeasy-name-override: create
  parameters:
    - $ref: '../../schemas/common.yml#/components/parameters/Accept'
  requestBody:
    required: true
    description: Parameters for customer to be created
    content:
      application/vnd.dwolla.v1.hal+json:
        schema:
          oneOf:
            - $ref: '../../schemas/customers/CreateCustomer.yml#/CreateReceiveOnlyUser'
            - $ref: '../../schemas/customers/CreateCustomer.yml#/CreateUnverifiedCustomer'
            - $ref: '../../schemas/customers/CreateCustomer.yml#/CreateVerifiedPersonalCustomer'
            - $ref: '../../schemas/customers/CreateCustomer.yml#/CreateVerifiedSolePropCustomer'
            - $ref: '../../schemas/customers/CreateCustomer.yml#/CreateVerifiedBusinessCustomerWithController'
            - $ref: '../../schemas/customers/CreateCustomer.yml#/CreateVerifiedBusinessCustomerWithInternationalController'
          discriminator:
            propertyName: type
            mapping:
              receive-only: '../../schemas/customers/CreateCustomer.yml#/CreateReceiveOnlyUser'
              unverified: '../../schemas/customers/CreateCustomer.yml#/CreateUnverifiedCustomer'
              personal: '../../schemas/customers/CreateCustomer.yml#/CreateVerifiedPersonalCustomer'
  responses:
    '201':
      description: successful operation
      headers:
        Location:
          $ref: '../../schemas/common.yml#/components/headers/Location'
    '400':
      description: Bad Request
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/common.yml#/components/schemas/BadRequestError'
    '403':
      description: forbidden
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
            properties:
              code:
                type: string
                example: forbidden
              message:
                type: string
                example: Not authorized to create customers.
    '404':
      description: not found
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
            properties:
              code:
                type: string
                example: notFound
              message:
                type: string
                example: not found.
