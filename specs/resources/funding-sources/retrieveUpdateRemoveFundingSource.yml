get:
  tags:
    - funding sources
  summary: Retrieve a funding source
  description: Returns detailed information for a specific funding source, including its type, status, and verification details. Supports bank accounts (via Open Banking), card funding sources, and Dwolla balance (verified customers only). Card funding sources include masked card details such as brand, last four digits, expiration date, and cardholder name.
  operationId: getFundingSource
  x-speakeasy-group: fundingSources
  x-speakeasy-name-override: get
  x-codeSamples:
    - lang: bash
      source: |
        GET https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31
        Accept: application/vnd.dwolla.v1.hal+json
        Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY
    - lang: javascript
      source: |
        // Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
        var fundingSourceUrl =
          "https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31";

        dwolla.get(fundingSourceUrl).then((res) => res.body.name); // => "Test checking account"
    - lang: python
      source: |
        # Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
        funding_source_url = 'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31'

        funding_source = app_token.get(funding_source_url)
        funding_source.body['name'] # => 'Test checking account'
    - lang: php
      source: |
        <?php
        // Using dwollaswagger - https://github.com/Dwolla/dwolla-swagger-php
        $fundingSourceUrl = 'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31';

        $fsApi = new DwollaSwagger\FundingsourcesApi($apiClient);

        $fundingSource = $fsApi->id($fundingSourceUrl);
        $fundingSource->name; # => "Test checking account"
        ?>
    - lang: ruby
      source: |
        # Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
        funding_source_url = 'https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31'

        funding_source = app_token.get funding_source_url
        funding_source.name # => "Test checking account"
  parameters:
    - name: id
      in: path
      description: Funding source unique identifier
      required: true
      schema:
        type: string
    - $ref: '../../schemas/common.yml#/components/parameters/Accept'
  responses:
    '200':
      description: successful operation
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/funding-sources/FundingSource.yml#/FundingSource'
          examples:
            standard_bank_account:
              summary: Standard bank account
              value:
                _links:
                  self:
                    href: "https://api-sandbox.dwolla.com/funding-sources/49dbaa24-1580-4b1c-8b58-24e26656fa31"
                    type: "application/vnd.dwolla.v1.hal+json"
                    resource-type: "funding-source"
                id: "49dbaa24-1580-4b1c-8b58-24e26656fa31"
                status: "verified"
                type: "bank"
                bankAccountType: "checking"
                name: "Test checking account"
                created: "2022-07-23T00:18:21.419Z"
                removed: false
                channels:
                  - "ach"
                bankName: "SANDBOX TEST BANK"
                fingerprint: "5012989b55af15400e8102f95d2ec5e7ce3aef45c01613280d80a236dd8d6c"
            settlement_account:
              summary: Card network settlement account
              value:
                _links:
                  self:
                    href: "https://api-sandbox.dwolla.com/funding-sources/12345678-1234-1234-1234-123456789012"
                    type: "application/vnd.dwolla.v1.hal+json"
                    resource-type: "funding-source"
                id: "12345678-1234-1234-1234-123456789012"
                status: "unverified"
                type: "bank"
                bankAccountType: "checking"
                name: "Checkout.com Settlement Account"
                created: "2024-01-15T10:30:00.000Z"
                removed: false
                channels:
                  - "ach"
                  - "real-time-payments"
                bankName: "ABC Bank"
                fingerprint: "4cf31392f678cb26c62b75096e1a09d4465a801798b3d5c3729de44a4f54c794"
                bankUsageType: "card-network"
            card_funding_source:
              summary: Card funding source
              value:
                _links:
                  self:
                    href: "https://api-sandbox.dwolla.com/funding-sources/12345678-abcd-1234-abcd-123456789012"
                    type: "application/vnd.dwolla.v1.hal+json"
                    resource-type: "funding-source"
                  remove:
                    href: "https://api-sandbox.dwolla.com/funding-sources/12345678-abcd-1234-abcd-123456789012"
                    type: "application/vnd.dwolla.v1.hal+json"
                    resource-type: "funding-source"
                id: "12345678-abcd-1234-abcd-123456789012"
                status: "unverified"
                type: "card"
                name: "My Visa Debit Card"
                created: "2024-01-20T14:23:45.123Z"
                removed: false
                channels: []
                fingerprint: "a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2"
                cardDetails:
                  brand: "Visa"
                  lastFour: "1234"
                  expirationMonth: 12
                  expirationYear: 2026
                  nameOnCard: "John Doe"
    '404':
      description: not found
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
            properties:
              code:
                type: string
                example: notFound
              message:
                type: string
                example: Funding source not found.
post:
  tags:
    - funding sources
  summary: Update or remove a funding source
  description: Updates a bank funding source's details or soft deletes it. When updating, you can change the name (any status) or modify routing/account numbers and account type (unverified status only). When removing, the funding source is soft deleted and can still be accessed but marked as removed.
  operationId: updateOrRemoveFundingSource
  x-speakeasy-group: fundingSources
  x-speakeasy-name-override: updateOrRemove
  x-codeSamples:
    - lang: bash
      source: |
        POST https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c
        Accept: application/vnd.dwolla.v1.hal+json
        Content-Type: application/vnd.dwolla.v1.hal+json
        Authorization: Bearer pBA9fVDBEyYZCEsLf/wKehyh1RTpzjUj5KzIRfDi0wKTii7DqY

        {
          "name": "Test Checking - 1234"
        }
    - lang: javascript
      source: |
        // Using dwolla-v2 - https://github.com/Dwolla/dwolla-v2-node
        var fundingSourceUrl =
          "https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c";
        var requestBody = {
          name: "Test Checking - 1234",
        };

        dwolla.post(fundingSourceUrl, requestBody).then((res) => res.body.name); // => "Test Checking - 1234"
    - lang: python
      source: |
        # Using dwollav2 - https://github.com/Dwolla/dwolla-v2-python
        funding_source_url = 'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'
        request_body = {
          'name': 'Test Checking - 1234'
        }

        funding_source = app_token.post(funding_source_url, request_body)
        funding_source.body['name'] # => 'Test Checking - 1234'
    - lang: php
      source: |
        /**
         *  No example for this language yet. Coming soon.
         **/
    - lang: ruby
      source: |
        # Using dwolla_v2 - https://github.com/Dwolla/dwolla-v2-ruby
        funding_source_url = 'https://api-sandbox.dwolla.com/funding-sources/692486f8-29f6-4516-a6a5-c69fd2ce854c'
        request_body = {
              "name" => "Test Checking - 1234",
        }

        funding_source = app_token.post "#{funding_source_url}", request_body
        funding_source.name # => "Test Checking - 1234"
  parameters:
    - name: id
      in: path
      description: Funding source unique identifier
      required: true
      schema:
        type: string
    - $ref: '../../schemas/common.yml#/components/parameters/Accept'
  requestBody:
    required: true
    description: Parameters to update a customer funding source
    content:
      application/json:
        schema:
          oneOf:
            - $ref: '../../schemas/funding-sources/UpdateFundingSource.yml#/UpdateUnverifiedBank'
            - $ref: '../../schemas/funding-sources/UpdateFundingSource.yml#/UpdateVerifiedBank'
            - $ref: '../../schemas/funding-sources/UpdateFundingSource.yml#/RemoveBank'
  responses:
    '200':
      description: successful operation
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
    '400':
      description: validation error
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
            properties:
              code:
                type: string
                example: validationError
              message:
                type: string
                example: "Only funding sources of type='bank' can be updated."
    '403':
      description: forbidden
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
            properties:
              code:
                type: string
                example: InvalidResourceState
              message:
                type: string
                example: A removed bank cannot be updated.
