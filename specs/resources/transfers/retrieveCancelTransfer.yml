get:
  tags:
    - transfers
  summary: Retrieve a transfer
  description: Retrieve a transfer
  operationId: get
  parameters:
    - name: id
      in: paths
      description: ID of transfer to be retrieved
      required: true
      schema:
        type: string
  responses:
    '200':
      description: successful operation
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '#/components/schemas/RetrieveTransferResponse'
    '404':
      description: 404 Not Found
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/commonSchemas.yml#/components/schemas/404NotFoundErrorResponse'
post:
  tags:
    - transfers
  summary: Cancel a transfer
  description: Cancel a transfer
  operationId: cancel
  parameters:
    - name: id
      in: path
      description: ID of transfer
      required: true
      schema:
        type: string
  requestBody:
    description: Parameters to cancel a transfer
    content:
      application/json:
        schema:
          required:
            - status
          type: object
          properties:
            status:
              type: string
              example: cancelled
  responses:
    '200':
      description: successful operation
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            type: object
    '400':
      description: 400 Bad Request
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            oneOf:
              - $ref: '../../schemas/commonSchemas.yml#/components/schemas/400BadRequestErrorResponse'
              - $ref: '#/components/schemas/StatusInvalidErrorResponse'
              - $ref: '#/components/schemas/StatusNotAllowedErrorResponse'
    '404':
      description: 404 Not Found
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/commonSchemas.yml#/components/schemas/404NotFoundErrorResponse'
components:
  schemas:
    RetrieveTransferResponse:
      title: RetrieveTransferResponse
      type: object
      properties:
        _links:
          type: object
          additionalProperties:
            $ref: '../../schemas/commonSchemas.yml#/components/schemas/HalLink'
        id:
          type: string
          example: 15c6bcce-46f7-e811-8112-e8dd3bececa8
        status:
          type: string
          example: pending
        amount:
          type: object
          properties:
            value:
              type: string
              example: '42.00'
            currency:
              type: string
              example: USD
        created:
          type: string
          example: '2018-12-03T22:00:22.970Z'
        clearing:
          type: object
          properties:
            source:
              type: string
              example: standard
            destination:
              type: string
              example: same-day
        metadata:
          type: object
          properties:
            paymentId:
              type: string
              example: '12345678'
            note:
              type: string
              example: Payment for completed work Dec. 1
        achDetails:
          type: object
          properties:
            source:
              type: object
              properties:
                addenda:
                  type: object
                  properties:
                    values:
                      type: array
                      items:
                        type: string
                        example: ABC123_AddendaValue
            destination:
              type: object
              properties:
                addenda:
                  type: object
                  properties:
                    values:
                      type: array
                      items:
                        type: string
                        eexample: ZYX987_AddendaValue
        rtpDetails:
          type: object
          properties:
            destination:
              type: object
              properties:
                remittanceData:
                  type: string
                  example: ABC_123 Remittance Data
        correlationId:
          type: string
          example: 8a2cdc8d-629d-4a24-98ac-40b735229fe2
        processingChannel:
          type: object
          properties:
            destination:
              type: string
              example: real-time-payments
    StatusInvalidErrorResponse:
      title: StatusInvalidErrorResponse
      type: object
      properties:
        code:
          type: string
          example: ValidationError
        message:
          type: string
          example: Validation error(s) present. See embedded errors list for more details.
        _embedded:
          type: object
          properties:
            errors:
              type: array
              items:
                type: object
                properties:
                  code:
                    type: string
                    example: Invalid
                  message:
                    type: string
                    example: Status invalid.
                  path:
                    type: string
                    example: /status
                  _links:
                    type: object
                    example: {}
    StatusNotAllowedErrorResponse:
      title: StatusNotAllowedErrorResponse
      type: object
      properties:
        code:
          type: string
          example: ValidationError
        message:
          type: string
          example: Validation error(s) present. See embedded errors list for more details.
        _embedded:
          type: object
          properties:
            errors:
              type: array
              items:
                type: object
                properties:
                  code:
                    type: string
                    example: NotAllowed
                  message:
                    type: string
                    example: Status not allowed.
                  path:
                    type: string
                    example: /status
                  _links:
                    type: object
                    example: {}
