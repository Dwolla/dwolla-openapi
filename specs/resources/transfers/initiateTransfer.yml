post:
  tags:
    - transfers
  summary: Initiate a transfer
  description: Initiate a transfer
  operationId: initiateTransfer
  requestBody:
    description: Parameters to initiate a transfer
    content:
      application/json:
        schema:
          required:
            - _links
            - amount
          type: object
          properties:
            _links:
              type: object
              properties:
                source:
                  type: object
                  properties:
                    href:
                      type: string
                destination:
                  type: object
                  properties:
                    href:
                      type: string
            amount:
              $ref: '../../schemas/common.yml#/components/schemas/TransferAmount'
            metadata:
              type: object
            fees:
              type: array
              items:
                type: object
                properties:
                  _links:
                    type: object
                    properties:
                      charge-to:
                        type: object
                        properties:
                          href:
                            type: string
                  amount:
                    type: object
                    properties:
                      amount:
                        type: string
                      currency:
                        type: string
            clearing:
              type: object
              properties:
                source:
                  type: string
                destination:
                  type: string
            achDetails:
              type: object
              properties:
                source:
                  type: object
                  properties:
                    addenda:
                      type: object
                      properties:
                        values:
                          type: array
                          items:
                            type: string
                destination:
                  type: object
                  properties:
                    addenda:
                      type: object
                      properties:
                        values:
                          type: array
                          items:
                            type: string
            rtpDetails:
              type: object
              properties:
                destination:
                  type: object
                  properties:
                    remittanceData:
                      type: string
            correlationId:
              type: string
            processingChannel:
              type: object
              properties:
                destination:
                  type: string
                  example: real-time-payments
  responses:
    '201':
      description: created
      headers:
        Location:
          $ref: '../../schemas/common.yml#/components/headers/Location'
    '400':
      description: Bad Request
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            oneOf:
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/SourceNotFoundErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/ReceiverNotFoundErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidSourceFundingSourceErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/SenderRestrictedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/ReceiverRestrictedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidMetadataErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/OperationBlockedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidAmountLimitErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/CannotParseAmountErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InsufficientFundsErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/FacilitatorFeeAccountNotFoundErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/FacilitatorFeeSumTooLargeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/FacilitatorFeeBelowMinimumErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/HighRiskErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/IncompatibleHoldingsErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/DirectAccountWithoutBankErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/SourceSameAsDestinationErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidFacilitatorErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidFacilitatorFeeCollectFromErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidFacilitatorFeeCollectFromCombinationErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidDestinationFundingSourceErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidFacilitatorFeeAmountErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WeeklyReceiveLimitReachedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidDestinationClearingTypeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidAmountForDestinationClearingTypeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidCorrelationIdErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/SourceAddendaMaxLengthErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/DestinationAddendaMaxLengthErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/AchAddendaEntriesNotEnabledForAccountErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/PointOfSaleAddendaEntriesNotEnabledForAccountErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/IncompatibleAddendaEntriesErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidPointOfSaleAddendaIdentificationCodeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidPointOfSaleAddendaSerialNumberErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidPointOfSaleAddendaDateErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidPointOfSaleAddendaAddressErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidPointOfSaleAddendaCityErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidPointOfSaleAddendaStateErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/TransferExpiredForFeeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidFeeOdfiErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidSourceBankAccountTypeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidDestinationBankAccountTypeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/IncompatibleSourceAndDestinationTypesErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/IncompatibleSourceForRtpDestinationErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidAmountForDestinationProcessingChannelErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/RtpFacilitatorFeeNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/RtpUnverifiedSenderNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/RtpPersonalToPersonalNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/DestinationProcessingChannelNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/DestinationRemittanceDataMaxLengthErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidAmountErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidFundingSourceErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawAccountRestrictedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidAmountForClearingTypeErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidWireBeneficiaryLocalityErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidWireBeneficiaryRegionErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidWireBeneficiaryCountryErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawInvalidWireOriginatorToBeneficiaryErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawProcessingChannelNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawRtpUnverifiedSenderNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WithdrawRtpPersonalWithdrawalNotSupportedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/DepositAccountRestrictedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WireInvalidImadErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WireAccountRestrictedErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WireNotEnabledErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/WireAccountNotFoundErrorResponse'
    '403':
      description: Forbidden
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            oneOf:
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidAttemptToFacilitateFundsErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidAttemptToPayInFundsErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/InvalidAttemptToPayOutFundsErrorResponse'
              - $ref: '../../schemas/transfers/CreateTransfer.yml#/RtpAccountSettingNotEnabledErrorResponse'
    '429':
      description: Too Many Requests
      headers: {}
      content:
        application/vnd.dwolla.v1.hal+json:
          schema:
            $ref: '../../schemas/transfers/CreateTransfer.yml#/TooManyRequestsErrorErrorResponse'